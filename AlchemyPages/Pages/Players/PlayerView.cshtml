@page
@model AlchemyPages.Pages.Players.PlayerViewModel
@{
}

@* <h2 class="text-center mb-3">@Model.Player.Name Alchemy Book</h2> *@
@* load data from player sql table and display data from asscoiated encounter table *@
@* Also make sure that the player ID is passed through here. *@


<h2 class=" text-center mb-3">Player CraftBook</h2>

<div class="row mb-3">

    <label class="col-sm-4 col-form-label">@Model.Player.FirstName</label>
    
    <div style="overflow-x:auto;">
        <table class="table">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Type</th>
                    <th>Element</th>
                    <th>Description</th>
                    <th>Quality I</th>
                    <th>Quality II</th>
                    <th>Quality III</th>
                    <th>Image</th>
                </tr>
            </thead>
            <tbody class="table-group-divider">
                @foreach (var record in Model.KnowledgeList)
                {
                    <tr>
                        <td>@record.Ingredient.Name</td>
                        <td>@record.Ingredient.Type</td>
                        <td>@record.Ingredient.Element</td>
                        <td>@record.Ingredient.Description</td>
                        <td> @(record.QualitiesKnown >= 1 ? @record.Ingredient.qualityOne : "Unknown")</td>
                        <td> @(record.QualitiesKnown >= 2 ? @record.Ingredient.qualityTwo : "Unknown")</td>
                        <td> @(record.QualitiesKnown >= 3 ? @record.Ingredient.qualityThree : "Unknown")</td>

                        <td>
                            @if (!string.IsNullOrEmpty(record.Ingredient.imageFileLocation))
                            {
                                <img src="@record.Ingredient.imageFileLocation" style="max-width: 100px; height:auto;" alt="Ingredient Image" />
                            }
                            else
                            {
                                <span> No Image </span>
                            }

                        </td>


                        @* <td>@ingredient.qualityOne</td>
                        <td>@ingredient.qualityTwo</td>
                        <td>@ingredient.qualityThree</td> *@
                        @* <td>
                            @if (!string.IsNullOrEmpty(record.Ingredient.imageFileLocation))
                            {
                                <img src="@ingredient.imageFileLocation" style="max-width: 100px; height:auto;" alt="Ingredient Image" />
                            }
                            else
                            {
                                <span> No Image </span>
                            }

                        </td> *@
                        
                       
                    </tr>
                }
            </tbody>

        </table>


</div>